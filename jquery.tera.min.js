!function(n){function r(n){var r=/(\s*)\{(\*?)/.exec(n);if(null===r)return null;var e,t=r.index+r[0].length,u=n.substr(t),l=(r[2]?0:r[1].length)+r.index;if(r[2]&&(e=/^\}\s*/.exec(u),null!==e))return{start:l,end:t+e[0].length,eval:$};for(var s=0;G>s;s++)if(e=z[s](u),null!==e)return e.start=l,e.end+=t,e;return{start:t,end:t,eval:$}}function e(n){var r=/^(\s*(\*?)\})\s*/.exec(n);return null===r?null:r[2]?r[1].length:r[0].length}function t(n){return/^\s*/.exec(n)[0].length}function u(n){var r=/^(else-)?(if(-not)?|unless)(-(empty|key|val(?:ue)?|(first|last)))?/.exec(n);if(null===r)return null;var u,l,s=r[0].length,a=n.substr(s),i=r[1],o="if-not"===r[2]||"unless"===r[2];if(r[6])return u=e(a),null===u?null:{end:s+u,eval:I,invert:o,ifElse:i,pos:r[6]};var c=t(a);if(0===c)return null;if(s+=c,a=a.substr(c),"empty"===r[5])return l=d(a),null===l?null:(u=e(a.substr(l.end)),null===u?null:{end:s+l.end+u,eval:D,invert:o,ifElse:i,sub:l});if(l=f(a),null===l)return null;if(!r[5])return u=e(a.substr(l.end)),null===u?null:{end:s+l.end+u,eval:F,invert:o,ifElse:i,sub:l};s+=l.end,a=a.substr(l.end);var h=a.match(/^\s+in\s+/);if(null===h)return null;h=h[0].length,s+=h,a=a.substr(h);var v=d(a);return null===v?null:(u=e(a.substr(v.end)),null===u?null:{end:s+v.end+u,eval:P,invert:o,ifElse:i,ifKey:"key"===r[5],expr:l,sub:v})}function l(n){var r=/^each(\s+((?!\d)\w+)(\s+as\s+((?!\d)\w+))?(\s+at\s+((?!\d)\w+))? in)?/.exec(n);if(null===r)return null;var u=r[2],l=r[4],s=r[6],a=r[0].length,i=n.substr(a),o=t(i);if(0===o)return null;if(a+=o,i=i.substr(o),r=d(i),null===r)return null;a+=r.end,i=i.substr(r.end);var f=e(i);return null===f?null:{end:a+f,eval:U,sub:r,elem:u,key:l,index:s}}function s(n,r){return function(t){var u=n.exec(t);if(null===u)return null;var l=e(t.substr(u[0].length));return null===l?null:{end:u[0].length+l,eval:r}}}function a(n){var r=/^tmpl ([\w-]+)/.exec(n);if(null===r)return null;for(var u,l=r[1],s=[],a=r[0].length,i=n.substr(a);;){if(u=e(i),null!==u){a+=u;break}var o=t(i);if(a+=o,i=i.substr(o),r=f(i),null===r)return null;s.push(r),a+=r.end,i=i.substr(r.end)}return null===u?null:{end:a,eval:K,id:l,params:s}}function i(n){if("raw"!==n.substr(0,3))return null;var r=t(n.substr(3));if(1>r)return null;var u=3+r,l=d(n.substr(u));if(null===l)return null;u+=l.end;var s=e(n.substr(u));return null===s?null:{end:u+s,eval:w,sub:l}}function o(n){var r=d(n);if(null===r)return null;var t=e(n.substr(r.end));return null===t?null:{end:r.end+t,eval:m,sub:r}}function f(n){var r=h(n);if(null===r)return null;for(var e=r.end,u=n.substr(e),l=[r],s=[];;){var a=t(u),i=c(u.substr(a));if(null===i)break;if(a+=i.end,a+=t(u.substr(a)),r=h(u.substr(a)),null===r)break;a+=r.end,s.push(i.name),l.push(r),e+=a,u=u.substr(a)}return 1===l.length?r:{end:e,eval:q,operators:s,operands:l}}function c(n){var r=/^([!=<>]=|<|>|&&|\|\||\+|\-)/.exec(n);return null===r?null:{end:r[0].length,name:r[0]}}function h(n){var r;if("("===n.substr(0,1))return r=f(n.substr(1)),null!==r?null:")"!==n.substr(r.end+1,1)?null:{end:r.end+2,eval:E,sub:r};var e=[y,d,p];for(var t in e)if(r=e[t](n),null!==r)return r;return b(n)}function v(n){if("("!==n.substr(0,1))return null;var r=[],e=1,u=n.substr(e);if(")"===u.substr(0,1))return{end:e+1,eval:B,args:r};var l=f(u);if(null===l)return null;for(r.push(l),e+=l.end,u=u.substr(l.end);;){var s=u.substr(0,1);if(")"===s)break;if(","!==s)return null;var a=1;if(a+=t(u.substr(a)),l=f(u.substr(a)),null===l)return null;r.push(l),a+=l.end,e+=a,u=u.substr(a)}return{end:e+1,eval:B,args:r}}function p(n){var r=/^'([^']*)'/.exec(n);return null===r?r:{end:r[0].length,eval:O,string:r[1]}}function b(n){var r=/^(-?)(\d+|0)(.\d+)?/.exec(n);return null===r?null:{end:r[0].length,eval:S,number:r[0]}}function d(n){var r=/^(\$(keys|[$ikld]|)|(?!\d)\w+)/.exec(n);if(null===r)return null;for(var e,t=r[1],u=r[0].length,l=n.substr(u),s=[];;)if(e=g(l),null===e)if(e=v(l),null===e){if(r=/^\.((?=[^\d])\w+)/.exec(l),null===r)break;s.push({eval:x,name:r[1]});var a=r[0].length;u+=a,l=l.substr(a)}else s.push(e),u+=e.end,l=l.substr(e.end);else s.push(e),u+=e.end,l=l.substr(e.end);return{end:u,eval:k,name:t,subs:s}}function g(n){if("["!==n.substr(0,1))return null;var r=f(n.substr(1));return null===r?null:"]"!==n.substr(1+r.end,1)?null:{end:2+r.end,eval:j,sub:r}}function y(n){if("{"!==n.substr(0,1))return null;for(var r=1,e=n.substr(1),u={};;){var l=/^\s*(\w+)\s*:\s*/.exec(e);if(null===l)return null;var s=l[1],a=l[0].length;r+=a,e=e.substr(a);var i=f(e);if(null===i)return null;u[s]=i,r+=i.end,e=e.substr(i.end);var o=t(e);r+=o,e=e.substr(o);var c=e.substr(0,1);if("}"===c){r+=1,e=e.substr(1);break}if(","!==c)return null;r+=1,e=e.substr(1)}return{end:r,eval:_,object:u}}function $(){return""}function m(){return'"+this.escape('+this.sub.eval.apply(this.sub,arguments)+')+"'}function w(){return'"+'+this.sub.eval.apply(this.sub,arguments)+'+"'}function k(){for(var n=/^\$/.test(this.name)?this.name:"local."+this.name,r=this.subs.length,e=0;r>e;e++){var t=this.subs[e];n+=t.eval.apply(t,arguments)}return n}function x(){return"."+this.name}function j(){return"["+this.sub.eval.apply(this.sub,arguments)+"]"}function E(){return"("+this.sub.eval.apply(this.sub,arguments)+")"}function O(){return"'"+this.string+"'"}function S(){return this.number}function N(){return'";}else{retval+="'}function A(){return'"}retval+="'}function J(){return'";$i++}}).call(this,$it,$t);retval+="'}function Q(n,r){return'";'+(n?"}else ":"")+"if("+r+'){retval+="'}function I(){return Q(this.ifElse,"$i"+(this.invert?"!=":"==")+("first"==this.pos?"0":"$l-1"))}function D(){return Q(this.ifElse,"$t="+this.sub.eval.apply(this.sub,arguments)+","+(this.invert?"!":"")+"(jQuery.isArray($t)?$t.length===0:jQuery.isEmptyObject($t))")}function F(){return Q(this.ifElse,(this.invert?"!":"")+"("+this.sub.eval.apply(this.sub,arguments)+")")}function P(){return Q(this.ifElse,"$t="+this.sub.eval.apply(this.sub,arguments)+",$e="+this.expr.eval.apply(this.expr,arguments)+","+(this.invert?"!":"")+(this.ifKey?"jQuery.isArray($t)?$e>=0||$e<$t.length:jQuery.inArray($e,this.keys($t))!==-1":"jQuery.inArray($e,this.values($t))!==-1"))}function U(){var n='";$it='+this.sub.eval.apply(this.sub,arguments)+";$t=this.proto(local);(function($$,local){var $,$k,$keys,$i=0,$l=jQuery.isArray($$)?$$.length:($keys=this.keys($$),$keys.length);while($i<$l){$=(($k=$keys?$keys[$i]:$i),$$[$k]);";return this.elem&&(n+="local."+this.elem+"=$;"),this.key&&(n+="local."+this.key+"=$k;"),this.index&&(n+="local."+this.index+"=$i;"),n+'retval+="'}function K(){for(var n=this.params.length,r="",e=0;n>e;e++){var t=this.params[e];r+=","+t.eval.apply(t,arguments)}return'"+this.byId("'+this.id+'"'+r+')+"'}function _(){var n=[];for(var r in this.object){var e=this.object[r];n.push(r+":"+e.eval.apply(e,arguments))}return"{"+n.join(",")+"}"}function q(){for(var n=this.operands[0],r=n.eval.apply(n,arguments),e=this.operators.length,t=0;e>t;t++)n=this.operands[t+1],r+=this.operators[t]+n.eval.apply(n,arguments);return r}function B(){for(var n=[],r=this.args.length,e=0;r>e;e++){var t=this.args[e];n.push(t.eval.apply(t,arguments))}return"("+n.join(",")+")"}function C(n){return(n.match(/\n/g)||[]).length}function L(e){for(var t,u="",l=[],s=0;t=r(e);){if(t.eval===U)l.push(t.eval);else if(-1!==n.inArray(t.eval,H)){if(t.ifElse&&-1===n.inArray(l.pop(),H))throw new Error("Unexpected {else-if} on line "+(s+C(e.substr(0,t.start))));l.push(t.eval)}else if(t.eval===J){if(l.pop()!==U)throw new Error("Unexpected {/each} on line "+(s+C(e.substr(0,t.start))))}else if(t.eval===A&&-1===n.inArray(l.pop(),H))throw new Error("Unexpected {/if} on line "+(s+C(e.substr(0,t.start))));u+=T(e.substr(0,t.start))+t.eval(),s+=C(e.substr(0,t.end)),e=e.substr(t.end)}if(l.length>0)throw new Error("No closing tag for "+(l.pop()===U?"{each}":"{if}"));return u+=T(e),'var local=data,$=local,$d=attrData,$it,$t,$e,retval="'+u+'"; return retval'}function T(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}var z=[s(/^else/,N),s(/^\/(if|unless)/,A),s(/^\/each/,J),l,u,a,i,o],G=z.length,H=[I,D,F,P],M=[],R={},V={},W=function(r,e){var t;try{return r in R==!1&&(t=L(r),R[r]={func:new Function("data","attrData",t),code:t}),R[r].func.call(W,e)}catch(u){var l={template:r,code:R[r].code,data:n.extend(!0,{},e),error:u.message};throw JSON&&JSON.stringify&&(l.data_json=JSON.stringify(e)),M.push(l),u}};W.byId=function(r,e){try{var t=n("#"+r);if(r in V==!1){if(0===t.length)return!1;var u,l,s=t.html();s in R?(u=R.code,l=R.func):(u=L(s),l=new Function("data","attrData",u)),R[s]={func:l,code:u},V[r]={func:l,code:u,template:s}}return V[r].func.call(n.tera,e,t.data())}catch(a){var i={template:V[r]&&V[r].template,code:V[r]&&V[r].code,data:n.extend(!0,{},e),error:a.message};throw JSON&&JSON.stringify&&(i.data_json=JSON.stringify(e)),M.push(i),a}},W.json=JSON&&JSON.stringify||function(){throw new Error("JSON object is not provided")},W.keys=Object.keys||function(){"use strict";var n=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=e.length;return function(u){if("object"!=typeof u&&("function"!=typeof u||null===u))throw new TypeError("Object.keys called on non-object");var l,s,a=[];for(l in u)n.call(u,l)&&a.push(l);if(r)for(s=0;t>s;s++)n.call(u,e[s])&&a.push(e[s]);return a}}(),W.values=function(r){if(n.isArray(r))return r;for(var e=[],t=0,u=this.keys(r),l=u.length;l>t;t++)e.push(r[u[t]]);return e},W.escape=function(n){return(""+n).replace(/[&<'"]/g,function(n){switch(n[0]){case"&":return"&amp;";case"<":return"&lt;";case"'":return"&#39;";case'"':return"&quot;"}})},W.proto=function(n){var r=function(){};return r.prototype=n,new r},W.errors=function(){return M},W.cache=function(){return R},W.cacheById=function(){return V},W.lastError=function(){return M[M.length-1]},W.clearCache=function(){R={},V={}},n.tera=W,n(function(){n('script[type="text/template-tera"]').each(function(){var r,e,t,u;try{r=n(this).attr("id"),e=n(this).html(),t=L(e),u=new Function("data","attrData",t),R[e]={func:u,code:t},V[r]={func:u,code:t,template:e}}catch(l){throw M.push({template:e,code:t,error:l.message}),l}})})}(jQuery);