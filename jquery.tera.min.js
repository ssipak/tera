!function(r){function n(r){var n=/(\s*)\{(\*?)/.exec(r);if(null===n)return null;var t,e=n.index+n[0].length,u=r.substr(e),l=(n[2]?0:n[1].length)+n.index;if(n[2]&&(t=/^\}\s*/.exec(u),null!==t))return{start:l,end:e+t[0].length,eval:k};for(var s=0;Z>s;s++)if(t=Y[s](u),null!==t)return t.start=l,t.end=t.len+e,t;return{start:e,end:e,eval:k}}function t(r){var n=/^(\s*(\*?)\})\s*/.exec(r);return null===n?null:n[2]?n[0].length:n[1].length}function e(r){return/^\s*/.exec(r)[0].length}function u(r){var n=/^(else-)?(if(-not)?|unless)(-(empty|key|val(?:ue)?|(first|last)))?/.exec(r);if(null===n)return null;var u,l,s=n[0].length,a=r.substr(s),i=n[1],o="if-not"===n[2]||"unless"===n[2];if(n[6])return u=t(a),null===u?null:{len:s+u,eval:q,invert:o,ifElse:i,pos:n[6]};var f=e(a);if(0===f)return null;if(s+=f,a=a.substr(f),"empty"===n[5])return l=$(a),null===l?null:(u=t(a.substr(l.len)),null===u?null:{len:s+l.len+u,eval:B,invert:o,ifElse:i,sub:l});if(l=c(a),null===l)return null;if(!n[5])return u=t(a.substr(l.len)),null===u?null:{len:s+l.len+u,eval:C,invert:o,ifElse:i,sub:l};s+=l.len,a=a.substr(l.len);var v=a.match(/^\s+in\s+/);if(null===v)return null;v=v[0].length,s+=v,a=a.substr(v);var h=$(a);return null===h?null:(u=t(a.substr(h.len)),null===u?null:{len:s+h.len+u,eval:L,invert:o,ifElse:i,ifKey:"key"===n[5],expr:l,sub:h})}function l(r){var n=/^each(\s+((?!\d)\w+)(\s+as\s+((?!\d)\w+))?(\s+at\s+((?!\d)\w+))? in)?/.exec(r);if(null===n)return null;var u=n[2],l=n[4],s=n[6],a=n[0].length,i=r.substr(a),o=e(i);if(0===o)return null;if(a+=o,i=i.substr(o),n=$(i),null===n)return null;a+=n.len,i=i.substr(n.len);var f=t(i);return null===f?null:{len:a+f,eval:T,sub:n,elem:u,key:l,index:s}}function s(r,n){return function(e){var u=r.exec(e);if(null===u)return null;var l=t(e.substr(u[0].length));return null===l?null:{len:u[0].length+l,eval:n}}}function a(r){var n=/^tmpl ([\w-]+)/.exec(r);if(null===n)return null;for(var u,l=n[1],s=[],a=n[0].length,i=r.substr(a);;){if(u=t(i),null!==u){a+=u;break}var o=e(i);if(a+=o,i=i.substr(o),n=c(i),null===n)return null;s.push(n),a+=n.len,i=i.substr(n.len)}return null===u?null:{len:a,eval:z,id:l,params:s}}function i(r){if("raw"!==r.substr(0,3))return null;var n=e(r.substr(3));if(1>n)return null;var u=3+n,l=$(r.substr(u));if(null===l)return null;u+=l.len;var s=t(r.substr(u));return null===s?null:{len:u+s,eval:j,sub:l}}function o(r){var n=0;if("esc"===r.substr(0,3)){var u=e(r.substr(3));u>=1&&(n=3+u)}var l=$(r.substr(n));if(null===l)return null;n+=l.len;var s=t(r.substr(n));return null===s?null:{len:n+s,eval:x,sub:l}}function f(r){var n=0,u=!1;if("json"===r.substr(0,4)){var l=e(r.substr(4));if(0===l)return null;n=4+l}else if("raw-json"===r.substr(0,8)){var l=e(r.substr(8));if(0===l)return null;n=8+l,u=!0}var s=$(r.substr(n));if(null===s)return null;n+=s.len;var a=t(r.substr(n));return null===a?null:{len:n+a,eval:u?E:O,sub:s}}function c(r){var n=h(r);if(null===n)return null;for(var t=n.len,u=r.substr(t),l=[n],s=[];;){var a=e(u),i=v(u.substr(a));if(null===i)break;if(a+=i.len,a+=e(u.substr(a)),n=h(u.substr(a)),null===n)break;a+=n.len,s.push(i.name),l.push(n),t+=a,u=u.substr(a)}return 1===l.length?n:{len:t,eval:M,operators:s,operands:l}}function v(r){var n=/^([!=<>]=|[<>+-]|&&|\|\|)/.exec(r);return null===n?null:{len:n[0].length,name:n[0]}}function h(r){var n=[b,m,w,$,g,y];for(var t in n){var e=n[t](r);if(null!==e)return e}return null}function b(r){if("("!==r.substr(0,1))return null;var n=c(r.substr(1));return null===n?null:")"!==r.substr(n.len+1,1)?null:{len:n.len+2,eval:J,sub:n}}function p(r){if("("!==r.substr(0,1))return null;var n=[],t=1+e(r.substr(1)),u=r.substr(t);if(")"===u.substr(0,1))return{len:t+1,eval:R,args:n};var l=c(u);if(null===l)return null;n.push(l),t+=l.len,u=u.substr(l.len);var s=e(u);for(t+=s,u=u.substr(s);;){var a=u.substr(0,1);if(")"===a)break;if(","!==a)return null;var i=1+e(u.substr(1));if(l=c(u.substr(i)),null===l)return null;n.push(l),i+=l.len,t+=i,u=u.substr(i),s=e(u),t+=s,u=u.substr(s)}return{len:t+1,eval:R,args:n}}function g(r){var n=/^(['"])((?!\1)[^\\]|\\.)*\1/.exec(r);return null===n?n:{len:n[0].length,eval:Q,string:n[0]}}function y(r){var n=/^(-?)(\d+|0)(.\d+)?/.exec(r);return null===n?null:{len:n[0].length,eval:I,number:n[0]}}function $(r){var n=/^(\$(keys|[$ikld]|)|(?!\d)\w+)/.exec(r);if(null===n)return null;for(var t,e=n[1],u=n[0].length,l=r.substr(u),s=[];;)if(t=d(l),null===t)if(t=p(l),null===t){if(n=/^\.((?=[^\d])\w+)/.exec(l),null===n)break;s.push({eval:N,name:n[1]});var a=n[0].length;u+=a,l=l.substr(a)}else s.push(t),u+=t.len,l=l.substr(t.len);else s.push(t),u+=t.len,l=l.substr(t.len);return{len:u,eval:S,name:e,subs:s}}function d(r){if("["!==r.substr(0,1))return null;var n=c(r.substr(1));return null===n?null:"]"!==r.substr(1+n.len,1)?null:{len:2+n.len,eval:A,sub:n}}function m(r){if("{"!==r.substr(0,1))return null;for(var n=1,t=r.substr(1),u={};;){var l=/^\s*(\w+)\s*(:?)\s*/.exec(t);if(null===l)return null;var s=l[1],a=l[2],i=l[0].length;if(n+=i,t=t.substr(i),a){var o=c(t);if(null===o)return null;u[s]=o,n+=o.len,t=t.substr(o.len);var f=e(t);n+=f,t=t.substr(f)}else u[s]={len:0,eval:S,name:s,subs:[]};var v=t.substr(0,1);if("}"===v){n+=1,t=t.substr(1);break}if(","!==v)return null;n+=1,t=t.substr(1)}return{len:n,eval:G,object:u}}function w(r){if("["!==r.substr(0,1))return null;for(var n=1,t=r.substr(1),u=[];;){var l=e(t);n+=l,t=t.substr(l);var s=c(t);if(null===s)return null;u.push(s),n+=s.len,t=t.substr(s.len),l=e(t),n+=l,t=t.substr(l);var a=t.substr(0,1);if("]"===a){n+=1,t=t.substr(1);break}if(","!==a)return null;n+=1,t=t.substr(1)}return{len:n,eval:H,array:u}}function k(){return""}function x(){return'"+this.escape('+this.sub.eval.apply(this.sub,arguments)+')+"'}function j(){return'"+'+this.sub.eval.apply(this.sub,arguments)+'+"'}function E(){return'"+this.json('+this.sub.eval.apply(this.sub,arguments)+')+"'}function O(){return'"+this.escape(this.json('+this.sub.eval.apply(this.sub,arguments)+'))+"'}function S(){for(var r=/^\$/.test(this.name)?this.name:"local."+this.name,n=this.subs.length,t=0;n>t;t++){var e=this.subs[t];r+=e.eval.apply(e,arguments)}return r}function N(){return"."+this.name}function A(){return"["+this.sub.eval.apply(this.sub,arguments)+"]"}function J(){return"("+this.sub.eval.apply(this.sub,arguments)+")"}function Q(){return this.string}function I(){return this.number}function D(){return"{"}function F(){return"}"}function P(){return'";}else{retval+="'}function U(){return'"}retval+="'}function K(){return'";$i++}}).call(this,$it,$t);retval+="'}function _(r,n){return'";'+(r?"}else ":"")+"if("+n+'){retval+="'}function q(){return _(this.ifElse,"$i"+(this.invert?"!=":"==")+("first"==this.pos?"0":"$l-1"))}function B(){return _(this.ifElse,"$t="+this.sub.eval.apply(this.sub,arguments)+","+(this.invert?"!":"")+"(jQuery.isArray($t)?$t.length===0:jQuery.isEmptyObject($t))")}function C(){return _(this.ifElse,(this.invert?"!":"")+"("+this.sub.eval.apply(this.sub,arguments)+")")}function L(){return _(this.ifElse,"$t="+this.sub.eval.apply(this.sub,arguments)+",$e="+this.expr.eval.apply(this.expr,arguments)+","+(this.invert?"!":"")+(this.ifKey?"jQuery.isArray($t)?$e>=0||$e<$t.length:jQuery.inArray($e,this.keys($t))!==-1":"jQuery.inArray($e,this.values($t))!==-1"))}function T(){var r='";$it='+this.sub.eval.apply(this.sub,arguments)+";$t=this.proto(local);(function($$,local){var $,$k,$keys,$i=0,$l=jQuery.isArray($$)?$$.length:($keys=this.keys($$),$keys.length);while($i<$l){$=(($k=$keys?$keys[$i]:$i),$$[$k]);";return this.elem&&(r+="local."+this.elem+"=$;"),this.key&&(r+="local."+this.key+"=$k;"),this.index&&(r+="local."+this.index+"=$i;"),r+'retval+="'}function z(){for(var r=this.params.length,n="",t=0;r>t;t++){var e=this.params[t];n+=","+e.eval.apply(e,arguments)}return'"+this.byId("'+this.id+'"'+n+')+"'}function G(){var r=[],n=this.object;for(var t in n){var e=n[t];r.push(t+":"+e.eval.apply(e,arguments))}return"{"+r.join(",")+"}"}function H(){for(var r=[],n=this.array,t=n.length,e=0;t>e;e++){var u=n[e];r.push(u.eval.apply(u,arguments))}return"["+r.join(",")+"]"}function M(){for(var r=this.operands[0],n=r.eval.apply(r,arguments),t=this.operators.length,e=0;t>e;e++)r=this.operands[e+1],n+=this.operators[e]+r.eval.apply(r,arguments);return n}function R(){for(var r=[],n=this.args.length,t=0;n>t;t++){var e=this.args[t];r.push(e.eval.apply(e,arguments))}return"("+r.join(",")+")"}function V(r){return(r.match(/\n/g)||[]).length}function W(t){for(var e,u="",l=[],s=0;e=n(t);){if(e.eval===T)l.push(e.eval);else if(-1!==r.inArray(e.eval,rn)){if(e.ifElse&&-1===r.inArray(l.pop(),rn))throw new Error("Unexpected {else-if} on line "+(s+V(t.substr(0,e.start))));l.push(e.eval)}else if(e.eval===K){if(l.pop()!==T)throw new Error("Unexpected {/each} on line "+(s+V(t.substr(0,e.start))))}else if(e.eval===U&&-1===r.inArray(l.pop(),rn))throw new Error("Unexpected {/if} on line "+(s+V(t.substr(0,e.start))));u+=X(t.substr(0,e.start))+e.eval(),s+=V(t.substr(0,e.end)),t=t.substr(e.end)}if(l.length>0)throw new Error("No closing tag for "+(l.pop()===T?"{each}":"{if}"));return u+=X(t),'var local=data,$=local,$d=attrData,$it,$t,$e,retval="'+u+'"; return retval'}function X(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}var Y=[s(/^</,D),s(/^>/,F),s(/^else/,P),s(/^\/(if|unless)/,U),s(/^\/each/,K),l,u,a,i,o,f],Z=Y.length,rn=[q,B,C,L],nn=[],tn={},en={},un=function(n,t){var e;try{return n in tn==!1&&(e=W(n),tn[n]={func:new Function("data","attrData",e),code:e}),tn[n].func.call(un,t)}catch(u){var l={template:n,code:tn[n].code,data:r.extend(!0,{},t),error:u.message};throw JSON&&JSON.stringify&&(l.data_json=JSON.stringify(t)),nn.push(l),u}};un.byId=function(n,t){try{var e=r("#"+n);if(n in en==!1){if(0===e.length)return!1;var u,l,s=e.html();s in tn?(u=tn.code,l=tn.func):(u=W(s),l=new Function("data","attrData",u)),tn[s]={func:l,code:u},en[n]={func:l,code:u,template:s}}return en[n].func.call(r.tera,t,e.data())}catch(a){var i={template:en[n]&&en[n].template,code:en[n]&&en[n].code,data:r.extend(!0,{},t),error:a.message};throw JSON&&JSON.stringify&&(i.data_json=JSON.stringify(t)),nn.push(i),a}},un.json=JSON&&JSON.stringify||function(){throw new Error("JSON object is not provided")},un.keys=Object.keys||function(){"use strict";var r=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=t.length;return function(u){if("object"!=typeof u&&("function"!=typeof u||null===u))throw new TypeError("Object.keys called on non-object");var l,s,a=[];for(l in u)r.call(u,l)&&a.push(l);if(n)for(s=0;e>s;s++)r.call(u,t[s])&&a.push(t[s]);return a}}(),un.values=function(n){if(r.isArray(n))return n;for(var t=[],e=0,u=this.keys(n),l=u.length;l>e;e++)t.push(n[u[e]]);return t},un.escape=function(r){return(""+r).replace(/[&<'"]/g,function(r){switch(r[0]){case"&":return"&amp;";case"<":return"&lt;";case"'":return"&#39;";case'"':return"&quot;"}})},un.proto=Object.create||function(r){var n=function(){};return n.prototype=r,new n},un.errors=function(){return nn},un.cache=function(){return tn},un.cacheById=function(){return en},un.lastError=function(){return nn[nn.length-1]},un.clearCache=function(){tn={},en={}},r.tera=un,r(function(){r('script[type="text/template-tera"]').each(function(){var n,t,e,u;try{n=r(this).attr("id"),t=r(this).html(),e=W(t),u=new Function("data","attrData",e),tn[t]={func:u,code:e},en[n]={func:u,code:e,template:t}}catch(l){throw nn.push({template:t,code:e,error:l.message}),l}})})}(jQuery);