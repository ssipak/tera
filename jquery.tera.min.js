!function(a){var i=[t(/^</,function(){return"{"}),t(/^>/,function(){return"}"}),t(/^else/,function(){return'";}else{retval+="'}),t(/^\/(if|unless)/,A),t(/^\/each/,J),function(t){var e=/^each(\s+((?!\d)\w+)(\s+as\s+((?!\d)\w+))?(\s+at\s+((?!\d)\w+))? in)?/.exec(t);if(null===e)return null;var r=e[2],n=e[4],u=e[6],l=e[0].length,s=t.substr(l),a=h(s);if(0===a)return null;if(l+=a,s=s.substr(a),null===(e=y(s)))return null;l+=e.len;var i=c(s=s.substr(e.len));return null===i?null:{len:l+i,evaluate:U,sub:e,elem:r,key:n,index:u}},function(t){var e=/^(else-)?(if(-not)?|unless)(-(empty|key|val(?:ue)?|(first|last)))?/.exec(t);if(null===e)return null;var r,n,u=e[0].length,l=t.substr(u),s=e[1],a="if-not"===e[2]||"unless"===e[2];if(e[6])return null===(r=c(l))?null:{len:u+r,evaluate:Q,invert:a,ifElse:s,pos:e[6]};var i=h(l);if(0===i)return null;if(u+=i,l=l.substr(i),"empty"===e[5])return null===(n=y(l))?null:null===(r=c(l.substr(n.len)))?null:{len:u+n.len+r,evaluate:I,invert:a,ifElse:s,sub:n};if(null===(n=v(l)))return null;if(!e[5])return null===(r=c(l.substr(n.len)))?null:{len:u+n.len+r,evaluate:P,invert:a,ifElse:s,sub:n};u+=n.len;var o=(l=l.substr(n.len)).match(/^\s+in\s+/);if(null===o)return null;o=o[0].length,u+=o;var f=y(l=l.substr(o));return null===f?null:null===(r=c(l.substr(f.len)))?null:{len:u+f.len+r,evaluate:D,invert:a,ifElse:s,ifKey:"key"===e[5],expr:n,sub:f}},function(t){var e=/^tmpl ([\w-]+)/.exec(t);if(null===e)return null;var r,n=e[1],u=[],l=e[0].length,s=t.substr(l);for(;;){if(null!==(r=c(s))){l+=r;break}var a=h(s);if(l+=a,s=s.substr(a),null===(e=v(s)))return null;u.push(e),l+=e.len,s=s.substr(e.len)}return null===r?null:{len:l,evaluate:F,id:n,params:u}},function(t){if("raw"!==t.substr(0,3))return null;var e=h(t.substr(3));if(e<1)return null;var r=3+e,n=y(t.substr(r));if(null===n)return null;r+=n.len;var u=c(t.substr(r));return null===u?null:{len:r+u,evaluate:k,sub:n}},function(t){var e=0;if("esc"===t.substr(0,3)){var r=h(t.substr(3));1<=r&&(e=3+r)}var n=y(t.substr(e));if(null===n)return null;e+=n.len;var u=c(t.substr(e));return null===u?null:{len:e+u,evaluate:w,sub:n}},function(t){var e=0,r=!1;if("json"===t.substr(0,4)){var n=h(t.substr(4));if(0===n)return null;e=4+n}else if("raw-json"===t.substr(0,8)){var n=h(t.substr(8));if(0===n)return null;e=8+n,r=!0}var u=y(t.substr(e));if(null===u)return null;e+=u.len;var l=c(t.substr(e));return null===l?null:{len:e+l,evaluate:r?x:j,sub:u}}],o=i.length;function l(t){var e=/(\s*)\{(\*?)/.exec(t);if(null===e)return null;var r,n=e.index+e[0].length,u=t.substr(n),l=(e[2]?0:e[1].length)+e.index;if(e[2]&&null!==(r=/^\}\s*/.exec(u)))return{start:l,end:n+r[0].length,evaluate:m};for(var s=0;s<o;s++)if(null!==(r=i[s](u)))return r.start=l,r.end=r.len+n,r;throw new SyntaxError("Unparsed tag: "+u.substr(0,15))}function c(t){var e=/^(\s*(\*?)\})\s*/.exec(t);return null===e?null:e[2]?e[0].length:e[1].length}function h(t){return/^\s*/.exec(t)[0].length}function t(n,u){return function(t){var e=n.exec(t);if(null===e)return null;var r=c(t.substr(e[0].length));return null===r?null:{len:e[0].length+r,evaluate:u}}}function v(t){var e=f(t);if(null===e)return null;for(var r,n,u=e.len,l=t.substr(u),s=[e],a=[];;){var i=h(l),o=(r=l.substr(i),void 0,null===(n=/^([!=<>]=|[<>+-]|&&|\|\|)/.exec(r))?null:{len:n[0].length,name:n[0]});if(null===o)break;if(i+=o.len,i+=h(l.substr(i)),null===(e=f(l.substr(i))))break;i+=e.len,a.push(o.name),s.push(e),u+=i,l=l.substr(i)}return 1===s.length?e:{len:u,evaluate:q,operators:a,operands:s}}function f(t){var e=[u,$,d,y,s,p];for(var r in e)if(e.hasOwnProperty(r)){var n=e[r](t);if(null!==n)return n}return null}function u(t){if("("!==t.substr(0,1))return null;var e=v(t.substr(1));return null===e?null:")"!==t.substr(e.len+1,1)?null:{len:e.len+2,evaluate:n,sub:e}}function b(t){if("("!==t.substr(0,1))return null;var e=[],r=1+h(t.substr(1)),n=t.substr(r);if(")"===n.substr(0,1))return{len:r+1,evaluate:B,args:e};var u=v(n);if(null===u)return null;e.push(u),r+=u.len;var l=h(n=n.substr(u.len));for(r+=l,n=n.substr(l);;){var s=n.substr(0,1);if(")"===s)break;if(","!==s)return null;var a=1+h(n.substr(1));if(null===(u=v(n.substr(a))))return null;e.push(u),r+=a+=u.len,r+=l=h(n=n.substr(a)),n=n.substr(l)}return{len:r+1,evaluate:B,args:e}}function s(t){var e=/^(['"])((?!\1)[^\\]|\\.)*\1/.exec(t);return null===e?e:{len:e[0].length,evaluate:S,string:e[0]}}function p(t){var e=/^(-?)(\d+|0)(.\d+)?/.exec(t);return null===e?null:{len:e[0].length,evaluate:N,number:e[0]}}function y(t){var e=/^(\$(keys|[$ikld]|)|(?!\d)\w+)/.exec(t);if(null===e)return null;for(var r,n=e[1],u=e[0].length,l=t.substr(u),s=[];;)if(null===(r=g(l)))if(null===(r=b(l))){if(null===(e=/^\.((?=[^\d])\w+)/.exec(l)))break;s.push({evaluate:O,name:e[1]});var a=e[0].length;u+=a,l=l.substr(a)}else s.push(r),u+=r.len,l=l.substr(r.len);else s.push(r),u+=r.len,l=l.substr(r.len);return{len:u,evaluate:E,name:n,subs:s}}function g(t){if("["!==t.substr(0,1))return null;var e=v(t.substr(1));return null===e?null:"]"!==t.substr(1+e.len,1)?null:{len:2+e.len,evaluate:r,sub:e}}function $(t){if("{"!==t.substr(0,1))return null;for(var e=1,r=t.substr(1),n={};;){var u=/^\s*(\w+)\s*(:?)\s*/.exec(r);if(null===u)return null;var l=u[1],s=u[2],a=u[0].length;if(e+=a,r=r.substr(a),s){var i=v(r);if(null===i)return null;e+=(n[l]=i).len;var o=h(r=r.substr(i.len));e+=o,r=r.substr(o)}else n[l]={len:0,evaluate:E,name:l,subs:[]};var f=r.substr(0,1);if("}"===f){e+=1,r=r.substr(1);break}if(","!==f)return null;e+=1,r=r.substr(1)}return{len:e,evaluate:K,object:n}}function d(t){if("["!==t.substr(0,1))return null;for(var e=1,r=t.substr(1),n=[];;){var u=h(r);e+=u;var l=v(r=r.substr(u));if(null===l)return null;n.push(l),e+=l.len,e+=u=h(r=r.substr(l.len));var s=(r=r.substr(u)).substr(0,1);if("]"===s){e+=1,r=r.substr(1);break}if(","!==s)return null;e+=1,r=r.substr(1)}return{len:e,evaluate:_,array:n}}function m(){return""}function w(){return'"+this.escape('+this.sub.evaluate.apply(this.sub,arguments)+')+"'}function k(){return'"+'+this.sub.evaluate.apply(this.sub,arguments)+'+"'}function x(){return'"+this.json('+this.sub.evaluate.apply(this.sub,arguments)+')+"'}function j(){return'"+this.escape(this.json('+this.sub.evaluate.apply(this.sub,arguments)+'))+"'}function E(){for(var t=/^\$/.test(this.name)?this.name:"local."+this.name,e=this.subs.length,r=0;r<e;r++){var n=this.subs[r];t+=n.evaluate.apply(n,arguments)}return t}function O(){return"."+this.name}function r(){return"["+this.sub.evaluate.apply(this.sub,arguments)+"]"}function n(){return"("+this.sub.evaluate.apply(this.sub,arguments)+")"}function S(){return this.string}function N(){return this.number}function A(){return'"}retval+="'}function J(){return'";$i++}}).call(this,$it,$t);retval+="'}function e(t,e){return'";'+(t?"}else ":"")+"if("+e+'){retval+="'}function Q(){return e(this.ifElse,"$i"+(this.invert?"!=":"==")+("first"==this.pos?"0":"$l-1"))}function I(){return e(this.ifElse,"$t="+this.sub.evaluate.apply(this.sub,arguments)+","+(this.invert?"!":"")+"(jQuery.isArray($t)?$t.length===0:jQuery.isEmptyObject($t))")}function P(){return e(this.ifElse,(this.invert?"!":"")+"("+this.sub.evaluate.apply(this.sub,arguments)+")")}function D(){return e(this.ifElse,"$t="+this.sub.evaluate.apply(this.sub,arguments)+",$e="+this.expr.evaluate.apply(this.expr,arguments)+","+(this.invert?"!":"")+(this.ifKey?"jQuery.isArray($t)?$e>=0||$e<$t.length:jQuery.inArray($e,this.keys($t))!==-1":"jQuery.inArray($e,this.values($t))!==-1"))}function U(){var t='";$it='+this.sub.evaluate.apply(this.sub,arguments)+";$t=this.proto(local);(function($$,local){var $,$k,$keys,$i=0,$l=jQuery.isArray($$)?$$.length:($keys=this.keys($$),$keys.length);while($i<$l){$=(($k=$keys?$keys[$i]:$i),$$[$k]);";return this.elem&&(t+="local."+this.elem+"=$;"),this.key&&(t+="local."+this.key+"=$k;"),this.index&&(t+="local."+this.index+"=$i;"),t+'retval+="'}function F(){for(var t=this.params.length,e="",r=0;r<t;r++){var n=this.params[r];e+=","+n.evaluate.apply(n,arguments)}return'"+this.byId("'+this.id+'"'+e+')+"'}function K(){var t=[],e=this.object;for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];t.push(r+":"+n.evaluate.apply(n,arguments))}return"{"+t.join(",")+"}"}function _(){for(var t=[],e=this.array,r=e.length,n=0;n<r;n++){var u=e[n];t.push(u.evaluate.apply(u,arguments))}return"["+t.join(",")+"]"}function q(){for(var t=this.operands[0],e=t.evaluate.apply(t,arguments),r=this.operators.length,n=0;n<r;n++)t=this.operands[n+1],e+=this.operators[n]+t.evaluate.apply(t,arguments);return e}function B(){for(var t=[],e=this.args.length,r=0;r<e;r++){var n=this.args[r];t.push(n.evaluate.apply(n,arguments))}return"("+t.join(",")+")"}function C(t){return(t.match(/\n/g)||[]).length}var L=[Q,I,P,D];function T(t){for(var e,r="",n=[],u=0;e=l(t);){if(e.evaluate===U)n.push(e.evaluate);else if(-1!==a.inArray(e.evaluate,L)){if(e.ifElse&&-1===a.inArray(n.pop(),L))throw new Error("Unexpected {else-if} on line "+(u+C(t.substr(0,e.start))));n.push(e.evaluate)}else if(e.evaluate===J){if(n.pop()!==U)throw new Error("Unexpected {/each} on line "+(u+C(t.substr(0,e.start))))}else if(e.evaluate===A&&-1===a.inArray(n.pop(),L))throw new Error("Unexpected {/if} on line "+(u+C(t.substr(0,e.start))));r+=z(t.substr(0,e.start))+e.evaluate(),u+=C(t.substr(0,e.end)),t=t.substr(e.end)}if(0<n.length)throw new Error("No closing tag for "+(n.pop()===U?"{each}":"{if}"));return'var local=data,$=local,$d=attrData,$it,$t,$e,retval="'+(r+=z(t))+'"; return retval'}function z(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}var G=[],H={},M={},R=function(e,r){var t;try{return e in H==!1&&(t=T(e),H[e]={func:new Function("data","attrData",t),code:t}),H[e].func.call(R,r)}catch(t){var n={template:e,code:H[e].code,data:a.extend(!0,{},r),error:t.message};throw JSON&&JSON.stringify&&(n.data_json=JSON.stringify(r)),G.push(n),t}};R.byId=function(e,r){try{var t=a("#"+e);if(e in M==!1){if(0===t.length)return!1;var n,u,l=t.html();u=l in H?(n=H.code,H.func):(n=T(l),new Function("data","attrData",n)),H[l]={func:u,code:n},M[e]={func:u,code:n,template:l}}return M[e].func.call(a.tera,r,t.data())}catch(t){var s={template:M[e]&&M[e].template,code:M[e]&&M[e].code,data:a.extend(!0,{},r),error:t.message};throw JSON&&JSON.stringify&&(s.data_json=JSON.stringify(r)),G.push(s),t}},R.json=JSON&&JSON.stringify||function(){throw new Error("JSON object is not provided")},R.keys=Object.keys||function(){"use strict";var u=Object.prototype.hasOwnProperty,l=!{toString:null}.propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=s.length;return function(t){if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,r,n=[];for(e in t)u.call(t,e)&&n.push(e);if(l)for(r=0;r<a;r++)u.call(t,s[r])&&n.push(s[r]);return n}}(),R.values=function(t){if(a.isArray(t))return t;for(var e=[],r=0,n=this.keys(t),u=n.length;r<u;r++)e.push(t[n[r]]);return e},R.escape=function(t){return(""+t).replace(/[&<'"]/g,function(t){switch(t[0]){case"&":return"&amp;";case"<":return"&lt;";case"'":return"&#39;";case'"':return"&quot;"}})},R.proto=Object.create||function(t){var e=function(){};return e.prototype=t,new e},R.errors=function(){return G},R.cache=function(){return H},R.cacheById=function(){return M},R.lastError=function(){return G[G.length-1]},R.clearCache=function(){H={},M={}},a.tera=R,a(function(){a('script[type="text/template-tera"]').each(function(){var t,e,r,n;try{t=a(this).attr("id"),r=T(e=a(this).html()),n=new Function("data","attrData",r),H[e]={func:n,code:r},M[t]={func:n,code:r,template:e}}catch(t){throw G.push({template:e,code:r,error:t.message}),t}})})}(jQuery);