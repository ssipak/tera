!function(r){function n(r){var n=/(\s*)\{(\*?)/.exec(r);if(null===n)return null;var e,t=n.index+n[0].length,u=r.substr(t),l=(n[2]?0:n[1].length)+n.index;if(n[2]&&(e=/^\}\s*/.exec(u),null!==e))return{start:l,end:t+e[0].length,eval:m};for(var s=0;B>s;s++)if(e=z[s](u),null!==e)return e.start=l,e.end+=t,e;return{start:t,end:t,eval:m}}function e(r){var n=/^(\s*(\*?)\})\s*/.exec(r);return null===n?null:n[2]?n[1].length:n[0].length}function t(r){return/^\s*/.exec(r)[0].length}function u(r){var n=/^(else-)?(if(-not)?|unless)(-(empty|(first|last)))?/.exec(r);if(null===n)return null;var u,l,s=n[0].length,a=r.substr(s),i=n[1],o="if-not"===n[2]||"unless"===n[2];if(n[6])return u=e(a),null===u?null:{end:s+u,eval:D,invert:o,ifElse:i,pos:n[6]};var f=t(a);return 0===f?null:(s+=f,a=a.substr(f),"empty"===n[5]?(l=p(a),null===l?null:(u=e(a.substr(l.end)),null===u?null:{end:s+l.end+u,eval:I,invert:o,ifElse:i,sub:l})):(l=c(a),null===l?null:(u=e(a.substr(l.end)),null===u?null:{end:s+l.end+u,eval:A,invert:o,ifElse:i,sub:l})))}function l(r){var n=/^each(\s+((?!\d)\w+)(\s+as\s+((?!\d)\w+))?(\s+at\s+((?!\d)\w+))? in)?/.exec(r);if(null===n)return null;var u=n[2],l=n[4],s=n[6],a=n[0].length,i=r.substr(a),o=t(i);if(0===o)return null;if(a+=o,i=i.substr(o),n=p(i),null===n)return null;a+=n.end,i=i.substr(n.end);var c=e(i);return null===c?null:{end:a+c,eval:F,sub:n,elem:u,key:l,index:s}}function s(r,n){return function(t){var u=r.exec(t);if(null===u)return null;var l=e(t.substr(u[0].length));return null===l?null:{end:u[0].length+l,eval:n}}}function a(r){var n=/^tmpl ([\w-]+)/.exec(r);if(null===n)return null;for(var u,l=n[1],s=[],a=n[0].length,i=r.substr(a);;){if(u=e(i),null!==u){a+=u;break}var o=t(i);if(a+=o,i=i.substr(o),n=c(i),null===n)return null;s.push(n),a+=n.end,i=i.substr(n.end)}return null===u?null:{end:a,eval:P,id:l,params:s}}function i(r){if("raw"!==r.substr(0,3))return null;var n=t(r.substr(3));if(1>n)return null;var u=3+n,l=p(r.substr(u));if(null===l)return null;u+=l.end;var s=e(r.substr(u));return null===s?null:{end:u+s,eval:j,sub:l}}function o(r){var n=p(r);if(null===n)return null;var t=e(r.substr(n.end));return null===t?null:{end:n.end+t,eval:$,sub:n}}function c(r){var n=v(r);if(null===n)return null;for(var e=n.end,u=r.substr(e),l=[n],s=[];;){var a=t(u),i=f(u.substr(a));if(null===i)break;if(a+=i.end,a+=t(u.substr(a)),n=v(u.substr(a)),null===n)break;a+=n.end,s.push(i.name),l.push(n),e+=a,u=u.substr(a)}return 1===l.length?n:{end:e,eval:q,operators:s,operands:l}}function f(r){var n=/^([!=><]=|&&|\|\||\+|\-)/.exec(r);return null===n?null:{end:n[0].length,name:n[0]}}function v(r){var n;if("("===r.substr(0,1))return n=c(r.substr(1)),null!==n?null:")"!==r.substr(n.end+1,1)?null:{end:n.end+2,eval:O,sub:n};var e=[y,p,d];for(var t in e)if(n=e[t](r),null!==n)return n;return b(r)}function h(r){if("("!==r.substr(0,1))return null;var n=[],e=1,u=r.substr(e);if(")"===u.substr(0,1))return{end:e+1,eval:C,args:n};var l=c(u);if(null===l)return null;for(n.push(l),e+=l.end,u=u.substr(l.end);;){var s=u.substr(0,1);if(")"===s)break;if(","!==s)return null;var a=1;if(a+=t(u.substr(a)),l=c(u.substr(a)),null===l)return null;a+=l.end,e+=a,u=u.substr(a)}return{end:e+1,eval:C,args:n}}function d(r){var n=/^'([^']*)'/.exec(r);return null===n?n:{end:n[0].length,eval:S,string:n[1]}}function b(r){var n=/^(-?)(\d+|0)(.\d+)?/.exec(r);return null===n?null:{end:n[0].length,eval:E,number:n[0]}}function p(r){var n=/^(\$(keys|[$ikld]|)|(?!\d)\w+)/.exec(r);if(null===n)return null;for(var e,t=n[1],u=n[0].length,l=r.substr(u),s=[];;)if(e=g(l),null===e)if(e=h(l),null===e){if(n=/^\.((?=[^\d])\w+)/.exec(l),null===n)break;s.push({eval:x,name:n[1]});var a=n[0].length;u+=a,l=l.substr(a)}else s.push(e),u+=e.end,l=l.substr(e.end);else s.push(e),u+=e.end,l=l.substr(e.end);return{end:u,eval:k,name:t,subs:s}}function g(r){if("["!==r.substr(0,1))return null;var n=c(r.substr(1));return null===n?null:"]"!==r.substr(1+n.end,1)?null:{end:2+n.end,eval:w,sub:n}}function y(r){if("{"!==r.substr(0,1))return null;for(var n=1,e=r.substr(1),u={};;){var l=/^\s*(\w+)\s*:\s*/.exec(e);if(null===l)return null;var s=l[1],a=l[0].length;n+=a,e=e.substr(a);var i=c(e);if(null===i)return null;u[s]=i,n+=i.end,e=e.substr(i.end);var o=t(e);n+=o,e=e.substr(o);var f=e.substr(0,1);if("}"===f){n+=1,e=e.substr(1);break}if(","!==f)return null;n+=1,e=e.substr(1)}return{end:n,eval:_,object:u}}function m(){return""}function $(){return'"+jQuery.tera.escape('+this.sub.eval.apply(this.sub,arguments)+')+"'}function j(){return'"+'+this.sub.eval.apply(this.sub,arguments)+'+"'}function k(){for(var r=/^\$/.test(this.name)?this.name:"local."+this.name,n=this.subs.length,e=0;n>e;e++){var t=this.subs[e];r+=t.eval.apply(t,arguments)}return r}function x(){return"."+this.name}function w(){return"["+this.sub.eval.apply(this.sub,arguments)+"]"}function O(){return"("+this.sub.eval.apply(this.sub,arguments)+")"}function S(){return"'"+this.string+"'"}function E(){return this.number}function J(){return'";}else{retval+="'}function N(){return'"}retval+="'}function Q(){return'";$i++}}).call(this,$it);retval+="'}function D(){return'";'+(this.ifElse?"}else ":"")+"if($i"+(this.invert?"!=":"==")+("first"==this.pos?"0":"$l-1")+'){retval+="'}function I(){return'";'+(this.ifElse?"}else ":"")+"if($t="+this.sub.eval.apply(this.sub,arguments)+","+(this.invert?"!":"")+'(jQuery.isArray($t)&&$t.length===0||jQuery.isEmptyObject($t))){retval+="'}function A(){return'";'+(this.ifElse?"}else ":"")+"if("+(this.invert?"!":"")+"("+this.sub.eval.apply(this.sub,arguments)+')){retval+="'}function F(){var r='";$it='+this.sub.eval.apply(this.sub,arguments)+";(function($$){var $,$k,$keys,$i=0,$l=jQuery.isArray($$)?$$.length:($keys=jQuery.tera.keys($$),$keys.length);while($i<$l){$=(($k=$keys?$keys[$i]:$i),$$[$k]);";return this.elem&&(r+="local."+this.elem+"=$;"),this.key&&(r+="local."+this.key+"=$k;"),this.index&&(r+="local."+this.index+"=$i;"),r+'retval+="'}function P(){for(var r=this.params.length,n="",e=0;r>e;e++){var t=this.params[e];n+=","+t.eval.apply(t,arguments)}return'"+jQuery.tera.byId("'+this.id+'"'+n+')+"'}function _(){var r=[];for(var n in this.object){var e=this.object[n];r.push(n+":"+e.eval.apply(e,arguments))}return"{"+r.join(",")+"}"}function q(){for(var r=this.operands[0],n=r.eval.apply(r,arguments),e=this.operators.length,t=0;e>t;t++)r=this.operands[t+1],n+=this.operators[t]+r.eval.apply(r,arguments);return n}function C(){for(var r=[],n=this.args.length,e=0;n>e;e++){var t=this.args[e];r.push(t.eval.apply(t,arguments))}return"("+r.join(",")+")"}function L(r){for(var e,t="";e=n(r);)t+=T(r.substr(0,e.start))+e.eval(),r=r.substr(e.end);return t+=T(r),'var local=(typeof data==="object")?jQuery.extend(jQuery.isArray(data)?[]:{},data):data,$=local,$d=attrData,$it,$t,retval="'+t+'"; return retval'}function T(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}var z=[s(/^else/,J),s(/^\/(if|unless)/,N),s(/^\/each/,Q),l,u,a,i,o],B=z.length,G={},H={},K=[];r.tera=function(n,e){var t;try{return n in G==!1&&(t=L(n),G[n]={func:new Function("data","attrData",t),code:t}),G[n].func.call(r.tera,e)}catch(u){var l={template:n,code:G[n].code,data:r.extend(!0,{},e),error:u.message};throw JSON&&JSON.stringify&&(l.data_json=JSON.stringify(e)),K.push(l),u}},r.tera.byId=function(n,e){try{var t=r("#"+n);if(n in H==!1){if(0===t.length)return!1;var u,l,s=t.html();s in G?(u=G.code,l=G.func):(u=L(s),l=new Function("data","attrData",u)),G[s]={func:l,code:u},H[n]={func:l,code:u,template:s}}return H[n].func.call(r.tera,e,t.data())}catch(a){var i={template:H[n]&&H[n].template,code:H[n]&&H[n].code,data:r.extend(!0,{},e),error:a.message};throw JSON&&JSON.stringify&&(i.data_json=JSON.stringify(e)),K.push(i),a}},r.tera.json=JSON&&JSON.stringify||function(){throw new Error("JSON object is not provided")},r.tera.errors=function(){return K},r.tera.lastError=function(){return K[K.length-1]},r.tera.keys=Object.keys||function(){"use strict";var r=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=e.length;return function(u){if("object"!=typeof u&&("function"!=typeof u||null===u))throw new TypeError("Object.keys called on non-object");var l,s,a=[];for(l in u)r.call(u,l)&&a.push(l);if(n)for(s=0;t>s;s++)r.call(u,e[s])&&a.push(e[s]);return a}}(),r.tera.escape=function(r){return(""+r).replace(/[&<'"]/g,function(r){switch(r[0]){case"&":return"&amp;";case"<":return"&lt;";case"'":return"&#39;";case'"':return"&quot;"}})},r.tera.clearCache=function(){G={},H={}},r(function(){r('script[type="text/template-tera"]').each(function(){var n,e,t,u;try{n=r(this).attr("id"),e=r(this).html(),t=L(e),u=new Function("data","attrData",t),G[e]={func:u,code:t},H[n]={func:u,code:t,template:e}}catch(l){throw K.push({template:e,code:t,error:l.message}),l}})})}(jQuery);