!function(n){function t(n){var t=/(\s*)\{(\*?)/.exec(n);if(null===t)return null;var r,e=t.index+t[0].length,u=n.substr(e),l=(t[2]?0:t[1].length)+t.index;if(t[2]&&(r=/^\}\s*/.exec(u),null!==r))return{start:l,end:e+r[0].length,eval:m};for(var s=0;B>s;s++)if(r=z[s](u),null!==r)return r.start=l,r.end+=e,r;return{start:e,end:e,eval:m}}function r(n){var t=/^(\s*(\*?)\})\s*/.exec(n);return null===t?null:t[2]?t[1].length:t[0].length}function e(n){return/^\s*/.exec(n)[0].length}function u(n){var t=/^(else-)?(if(-not)?|unless)(-(empty|(first|last)))?/.exec(n);if(null===t)return null;var u,l,s=t[0].length,a=n.substr(s),i=t[1],o="if-not"===t[2]||"unless"===t[2];if(t[6])return u=r(a),null===u?null:{end:s+u,eval:I,invert:o,ifElse:i,pos:t[6]};var f=e(a);return 0===f?null:(s+=f,a=a.substr(f),"empty"===t[5]?(l=p(a),null===l?null:(u=r(a.substr(l.end)),null===u?null:{end:s+l.end+u,eval:Q,invert:o,ifElse:i,sub:l})):(l=c(a),null===l?null:(u=r(a.substr(l.end)),null===u?null:{end:s+l.end+u,eval:F,invert:o,ifElse:i,sub:l})))}function l(n){var t=/^each(\s+((?!\d)\w+)(\s+as\s+((?!\d)\w+))?(\s+at\s+((?!\d)\w+))? in)?/.exec(n);if(null===t)return null;var u=t[2],l=t[4],s=t[6],a=t[0].length,i=n.substr(a),o=e(i);if(0===o)return null;if(a+=o,i=i.substr(o),t=p(i),null===t)return null;a+=t.end,i=i.substr(t.end);var c=r(i);return null===c?null:{end:a+c,eval:P,sub:t,elem:u,key:l,index:s}}function s(n,t){return function(e){var u=n.exec(e);if(null===u)return null;var l=r(e.substr(u[0].length));return null===l?null:{end:u[0].length+l,eval:t}}}function a(n){var t=/^tmpl ([\w-]+)/.exec(n);if(null===t)return null;for(var u,l=t[1],s=[],a=t[0].length,i=n.substr(a);;){if(u=r(i),null!==u){a+=u;break}var o=e(i);if(a+=o,i=i.substr(o),t=c(i),null===t)return null;s.push(t),a+=t.end,i=i.substr(t.end)}return null===u?null:{end:a,eval:A,id:l,params:s}}function i(n){if("raw"!==n.substr(0,3))return null;var t=e(n.substr(3));if(1>t)return null;var u=3+t,l=p(n.substr(u));if(null===l)return null;u+=l.end;var s=r(n.substr(u));return null===s?null:{end:u+s,eval:k,sub:l}}function o(n){var t=p(n);if(null===t)return null;var e=r(n.substr(t.end));return null===e?null:{end:t.end+e,eval:$,sub:t}}function c(n){var t=v(n);if(null===t)return null;for(var r=t.end,u=n.substr(r),l=[t],s=[];;){var a=e(u),i=f(u.substr(a));if(null===i)break;if(a+=i.end,a+=e(u.substr(a)),t=v(u.substr(a)),null===t)break;a+=t.end,s.push(i.name),l.push(t),r+=a,u=u.substr(a)}return 1===l.length?t:{end:r,eval:q,operators:s,operands:l}}function f(n){var t=/^([!=><]=|&&|\|\||\+|\-)/.exec(n);return null===t?null:{end:t[0].length,name:t[0]}}function v(n){var t;if("("===n.substr(0,1))return t=c(n.substr(1)),null!==t?null:")"!==n.substr(t.end+1,1)?null:{end:t.end+2,eval:O,sub:t};var r=[y,p,b];for(var e in r)if(t=r[e](n),null!==t)return t;return d(n)}function h(n){if("("!==n.substr(0,1))return null;var t=[],r=1,u=n.substr(r);if(")"===u.substr(0,1))return{end:r+1,eval:C,args:t};var l=c(u);if(null===l)return null;for(t.push(l),r+=l.end,u=u.substr(l.end);;){var s=u.substr(0,1);if(")"===s)break;if(","!==s)return null;var a=1;if(a+=e(u.substr(a)),l=c(u.substr(a)),null===l)return null;a+=l.end,r+=a,u=u.substr(a)}return{end:r+1,eval:C,args:t}}function b(n){var t=/^'([^']*)'/.exec(n);return null===t?t:{end:t[0].length,eval:S,string:t[1]}}function d(n){var t=/^(-?)(\d+|0)(.\d+)?/.exec(n);return null===t?null:{end:t[0].length,eval:E,number:t[0]}}function p(n){var t=/^(\$(keys|[$ikld]|)|(?!\d)\w+)/.exec(n);if(null===t)return null;for(var r,e=t[1],u=t[0].length,l=n.substr(u),s=[];;)if(r=g(l),null===r)if(r=h(l),null===r){if(t=/^\.((?=[^\d])\w+)/.exec(l),null===t)break;s.push({eval:x,name:t[1]});var a=t[0].length;u+=a,l=l.substr(a)}else s.push(r),u+=r.end,l=l.substr(r.end);else s.push(r),u+=r.end,l=l.substr(r.end);return{end:u,eval:w,name:e,subs:s}}function g(n){if("["!==n.substr(0,1))return null;var t=c(n.substr(1));return null===t?null:"]"!==n.substr(1+t.end,1)?null:{end:2+t.end,eval:j,sub:t}}function y(n){if("{"!==n.substr(0,1))return null;for(var t=1,r=n.substr(1),u={};;){var l=/^\s*(\w+)\s*:\s*/.exec(r);if(null===l)return null;var s=l[1],a=l[0].length;t+=a,r=r.substr(a);var i=c(r);if(null===i)return null;u[s]=i,t+=i.end,r=r.substr(i.end);var o=e(r);t+=o,r=r.substr(o);var f=r.substr(0,1);if("}"===f){t+=1,r=r.substr(1);break}if(","!==f)return null;t+=1,r=r.substr(1)}return{end:t,eval:_,object:u}}function m(){return""}function $(){return'"+this.escape('+this.sub.eval.apply(this.sub,arguments)+')+"'}function k(){return'"+'+this.sub.eval.apply(this.sub,arguments)+'+"'}function w(){for(var n=/^\$/.test(this.name)?this.name:"local."+this.name,t=this.subs.length,r=0;t>r;r++){var e=this.subs[r];n+=e.eval.apply(e,arguments)}return n}function x(){return"."+this.name}function j(){return"["+this.sub.eval.apply(this.sub,arguments)+"]"}function O(){return"("+this.sub.eval.apply(this.sub,arguments)+")"}function S(){return"'"+this.string+"'"}function E(){return this.number}function J(){return'";}else{retval+="'}function N(){return'"}retval+="'}function D(){return'";$i++}}).call(this,$it,$t);retval+="'}function I(){return'";'+(this.ifElse?"}else ":"")+"if($i"+(this.invert?"!=":"==")+("first"==this.pos?"0":"$l-1")+'){retval+="'}function Q(){return'";'+(this.ifElse?"}else ":"")+"if($t="+this.sub.eval.apply(this.sub,arguments)+","+(this.invert?"!":"")+'(jQuery.isArray($t)?$t.length===0:jQuery.isEmptyObject($t))){retval+="'}function F(){return'";'+(this.ifElse?"}else ":"")+"if("+(this.invert?"!":"")+"("+this.sub.eval.apply(this.sub,arguments)+')){retval+="'}function P(){var n='";$it='+this.sub.eval.apply(this.sub,arguments)+";$t=this.proto(local);(function($$,local){var $,$k,$keys,$i=0,$l=jQuery.isArray($$)?$$.length:($keys=this.keys($$),$keys.length);while($i<$l){$=(($k=$keys?$keys[$i]:$i),$$[$k]);";return this.elem&&(n+="local."+this.elem+"=$;"),this.key&&(n+="local."+this.key+"=$k;"),this.index&&(n+="local."+this.index+"=$i;"),n+'retval+="'}function A(){for(var n=this.params.length,t="",r=0;n>r;r++){var e=this.params[r];t+=","+e.eval.apply(e,arguments)}return'"+this.byId("'+this.id+'"'+t+')+"'}function _(){var n=[];for(var t in this.object){var r=this.object[t];n.push(t+":"+r.eval.apply(r,arguments))}return"{"+n.join(",")+"}"}function q(){for(var n=this.operands[0],t=n.eval.apply(n,arguments),r=this.operators.length,e=0;r>e;e++)n=this.operands[e+1],t+=this.operators[e]+n.eval.apply(n,arguments);return t}function C(){for(var n=[],t=this.args.length,r=0;t>r;r++){var e=this.args[r];n.push(e.eval.apply(e,arguments))}return"("+n.join(",")+")"}function L(n){for(var r,e="";r=t(n);)e+=T(n.substr(0,r.start))+r.eval(),n=n.substr(r.end);return e+=T(n),'var local=data,$=local,$d=attrData,$it,$t,retval="'+e+'"; return retval'}function T(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}var z=[s(/^else/,J),s(/^\/(if|unless)/,N),s(/^\/each/,D),l,u,a,i,o],B=z.length,G={},H={},K=[];n.tera=function(t,r){var e;try{return t in G==!1&&(e=L(t),G[t]={func:new Function("data","attrData",e),code:e}),G[t].func.call(n.tera,r)}catch(u){var l={template:t,code:G[t].code,data:n.extend(!0,{},r),error:u.message};throw JSON&&JSON.stringify&&(l.data_json=JSON.stringify(r)),K.push(l),u}},n.tera.byId=function(t,r){try{var e=n("#"+t);if(t in H==!1){if(0===e.length)return!1;var u,l,s=e.html();s in G?(u=G.code,l=G.func):(u=L(s),l=new Function("data","attrData",u)),G[s]={func:l,code:u},H[t]={func:l,code:u,template:s}}return H[t].func.call(n.tera,r,e.data())}catch(a){var i={template:H[t]&&H[t].template,code:H[t]&&H[t].code,data:n.extend(!0,{},r),error:a.message};throw JSON&&JSON.stringify&&(i.data_json=JSON.stringify(r)),K.push(i),a}},n.tera.json=JSON&&JSON.stringify||function(){throw new Error("JSON object is not provided")},n.tera.keys=Object.keys||function(){"use strict";var n=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=r.length;return function(u){if("object"!=typeof u&&("function"!=typeof u||null===u))throw new TypeError("Object.keys called on non-object");var l,s,a=[];for(l in u)n.call(u,l)&&a.push(l);if(t)for(s=0;e>s;s++)n.call(u,r[s])&&a.push(r[s]);return a}}(),n.tera.escape=function(n){return(""+n).replace(/[&<'"]/g,function(n){switch(n[0]){case"&":return"&amp;";case"<":return"&lt;";case"'":return"&#39;";case'"':return"&quot;"}})},n.tera.proto=function(n){var t=function(){};return t.prototype=n,new t},n.tera.errors=function(){return K},n.tera.lastError=function(){return K[K.length-1]},n.tera.clearCache=function(){G={},H={}},n(function(){n('script[type="text/template-tera"]').each(function(){var t,r,e,u;try{t=n(this).attr("id"),r=n(this).html(),e=L(r),u=new Function("data","attrData",e),G[r]={func:u,code:e},H[t]={func:u,code:e,template:r}}catch(l){throw K.push({template:r,code:e,error:l.message}),l}})})}(jQuery);