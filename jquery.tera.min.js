!function(n){function r(n){var r=/(\s*)\{(\*?)/.exec(n);if(null===r)return null;var e,t=r.index+r[0].length,l=n.substr(t),u=(r[2]?0:r[1].length)+r.index;if(r[2]&&(e=/^\}\s*/.exec(l),null!==e))return{start:u,end:t+e[0].length,eval:m};for(var s=0;W>s;s++)if(e=V[s](l),null!==e)return e.start=u,e.end=e.len+t,e;return{start:t,end:t,eval:m}}function e(n){var r=/^(\s*(\*?)\})\s*/.exec(n);return null===r?null:r[2]?r[0].length:r[1].length}function t(n){return/^\s*/.exec(n)[0].length}function l(n){var r=/^(else-)?(if(-not)?|unless)(-(empty|key|val(?:ue)?|(first|last)))?/.exec(n);if(null===r)return null;var l,u,s=r[0].length,a=n.substr(s),i=r[1],o="if-not"===r[2]||"unless"===r[2];if(r[6])return l=e(a),null===l?null:{len:s+l,eval:K,invert:o,ifElse:i,pos:r[6]};var f=t(a);if(0===f)return null;if(s+=f,a=a.substr(f),"empty"===r[5])return u=y(a),null===u?null:(l=e(a.substr(u.len)),null===l?null:{len:s+u.len+l,eval:_,invert:o,ifElse:i,sub:u});if(u=c(a),null===u)return null;if(!r[5])return l=e(a.substr(u.len)),null===l?null:{len:s+u.len+l,eval:q,invert:o,ifElse:i,sub:u};s+=u.len,a=a.substr(u.len);var h=a.match(/^\s+in\s+/);if(null===h)return null;h=h[0].length,s+=h,a=a.substr(h);var v=y(a);return null===v?null:(l=e(a.substr(v.len)),null===l?null:{len:s+v.len+l,eval:B,invert:o,ifElse:i,ifKey:"key"===r[5],expr:u,sub:v})}function u(n){var r=/^each(\s+((?!\d)\w+)(\s+as\s+((?!\d)\w+))?(\s+at\s+((?!\d)\w+))? in)?/.exec(n);if(null===r)return null;var l=r[2],u=r[4],s=r[6],a=r[0].length,i=n.substr(a),o=t(i);if(0===o)return null;if(a+=o,i=i.substr(o),r=y(i),null===r)return null;a+=r.len,i=i.substr(r.len);var f=e(i);return null===f?null:{len:a+f,eval:C,sub:r,elem:l,key:u,index:s}}function s(n,r){return function(t){var l=n.exec(t);if(null===l)return null;var u=e(t.substr(l[0].length));return null===u?null:{len:l[0].length+u,eval:r}}}function a(n){var r=/^tmpl ([\w-]+)/.exec(n);if(null===r)return null;for(var l,u=r[1],s=[],a=r[0].length,i=n.substr(a);;){if(l=e(i),null!==l){a+=l;break}var o=t(i);if(a+=o,i=i.substr(o),r=c(i),null===r)return null;s.push(r),a+=r.len,i=i.substr(r.len)}return null===l?null:{len:a,eval:L,id:u,params:s}}function i(n){if("raw"!==n.substr(0,3))return null;var r=t(n.substr(3));if(1>r)return null;var l=3+r,u=y(n.substr(l));if(null===u)return null;l+=u.len;var s=e(n.substr(l));return null===s?null:{len:l+s,eval:k,sub:u}}function o(n){var r=0;if("esc"===n.substr(0,3)){var l=t(n.substr(3));l>=1&&(r=3+l)}var u=y(n.substr(r));if(null===u)return null;r+=u.len;var s=e(n.substr(r));return null===s?null:{len:r+s,eval:w,sub:u}}function f(n){var r=0,l=!1;if("json"===n.substr(0,4)){var u=t(n.substr(4));if(0===u)return null;r=4+u}else if("raw-json"===n.substr(0,8)){var u=t(n.substr(8));if(0===u)return null;r=8+u,l=!0}var s=y(n.substr(r));if(null===s)return null;r+=s.len;var a=e(n.substr(r));return null===a?null:{len:r+a,eval:l?x:j,sub:s}}function c(n){var r=v(n);if(null===r)return null;for(var e=r.len,l=n.substr(e),u=[r],s=[];;){var a=t(l),i=h(l.substr(a));if(null===i)break;if(a+=i.len,a+=t(l.substr(a)),r=v(l.substr(a)),null===r)break;a+=r.len,s.push(i.name),u.push(r),e+=a,l=l.substr(a)}return 1===u.length?r:{len:e,eval:z,operators:s,operands:u}}function h(n){var r=/^([!=<>]=|[<>+-]|&&|\|\|)/.exec(n);return null===r?null:{len:r[0].length,name:r[0]}}function v(n){var r;if("("===n.substr(0,1))return r=c(n.substr(1)),null!==r?null:")"!==n.substr(r.len+1,1)?null:{len:r.len+2,eval:N,sub:r};var e=[d,y,p];for(var t in e)if(r=e[t](n),null!==r)return r;return g(n)}function b(n){if("("!==n.substr(0,1))return null;var r=[],e=1,l=n.substr(e);if(")"===l.substr(0,1))return{len:e+1,eval:G,args:r};var u=c(l);if(null===u)return null;for(r.push(u),e+=u.len,l=l.substr(u.len);;){var s=l.substr(0,1);if(")"===s)break;if(","!==s)return null;var a=1;if(a+=t(l.substr(a)),u=c(l.substr(a)),null===u)return null;r.push(u),a+=u.len,e+=a,l=l.substr(a)}return{len:e+1,eval:G,args:r}}function p(n){var r=/^(['"])((?!\1)[^\\]|\\.)*\1/.exec(n);return null===r?r:{len:r[0].length,eval:A,string:r[0]}}function g(n){var r=/^(-?)(\d+|0)(.\d+)?/.exec(n);return null===r?null:{len:r[0].length,eval:J,number:r[0]}}function y(n){var r=/^(\$(keys|[$ikld]|)|(?!\d)\w+)/.exec(n);if(null===r)return null;for(var e,t=r[1],l=r[0].length,u=n.substr(l),s=[];;)if(e=$(u),null===e)if(e=b(u),null===e){if(r=/^\.((?=[^\d])\w+)/.exec(u),null===r)break;s.push({eval:O,name:r[1]});var a=r[0].length;l+=a,u=u.substr(a)}else s.push(e),l+=e.len,u=u.substr(e.len);else s.push(e),l+=e.len,u=u.substr(e.len);return{len:l,eval:E,name:t,subs:s}}function $(n){if("["!==n.substr(0,1))return null;var r=c(n.substr(1));return null===r?null:"]"!==n.substr(1+r.len,1)?null:{len:2+r.len,eval:S,sub:r}}function d(n){if("{"!==n.substr(0,1))return null;for(var r=1,e=n.substr(1),l={};;){var u=/^\s*(\w+)\s*(:?)\s*/.exec(e);if(null===u)return null;var s=u[1],a=u[2],i=u[0].length;if(r+=i,e=e.substr(i),a){var o=c(e);if(null===o)return null;l[s]=o,r+=o.len,e=e.substr(o.len);var f=t(e);r+=f,e=e.substr(f)}else l[s]={len:0,eval:E,name:s,subs:[]};var h=e.substr(0,1);if("}"===h){r+=1,e=e.substr(1);break}if(","!==h)return null;r+=1,e=e.substr(1)}return{len:r,eval:T,object:l}}function m(){return""}function w(){return'"+this.escape('+this.sub.eval.apply(this.sub,arguments)+')+"'}function k(){return'"+'+this.sub.eval.apply(this.sub,arguments)+'+"'}function x(){return'"+this.json('+this.sub.eval.apply(this.sub,arguments)+')+"'}function j(){return'"+this.escape(this.json('+this.sub.eval.apply(this.sub,arguments)+'))+"'}function E(){for(var n=/^\$/.test(this.name)?this.name:"local."+this.name,r=this.subs.length,e=0;r>e;e++){var t=this.subs[e];n+=t.eval.apply(t,arguments)}return n}function O(){return"."+this.name}function S(){return"["+this.sub.eval.apply(this.sub,arguments)+"]"}function N(){return"("+this.sub.eval.apply(this.sub,arguments)+")"}function A(){return this.string}function J(){return this.number}function Q(){return"{"}function I(){return"}"}function D(){return'";}else{retval+="'}function F(){return'"}retval+="'}function P(){return'";$i++}}).call(this,$it,$t);retval+="'}function U(n,r){return'";'+(n?"}else ":"")+"if("+r+'){retval+="'}function K(){return U(this.ifElse,"$i"+(this.invert?"!=":"==")+("first"==this.pos?"0":"$l-1"))}function _(){return U(this.ifElse,"$t="+this.sub.eval.apply(this.sub,arguments)+","+(this.invert?"!":"")+"(jQuery.isArray($t)?$t.length===0:jQuery.isEmptyObject($t))")}function q(){return U(this.ifElse,(this.invert?"!":"")+"("+this.sub.eval.apply(this.sub,arguments)+")")}function B(){return U(this.ifElse,"$t="+this.sub.eval.apply(this.sub,arguments)+",$e="+this.expr.eval.apply(this.expr,arguments)+","+(this.invert?"!":"")+(this.ifKey?"jQuery.isArray($t)?$e>=0||$e<$t.length:jQuery.inArray($e,this.keys($t))!==-1":"jQuery.inArray($e,this.values($t))!==-1"))}function C(){var n='";$it='+this.sub.eval.apply(this.sub,arguments)+";$t=this.proto(local);(function($$,local){var $,$k,$keys,$i=0,$l=jQuery.isArray($$)?$$.length:($keys=this.keys($$),$keys.length);while($i<$l){$=(($k=$keys?$keys[$i]:$i),$$[$k]);";return this.elem&&(n+="local."+this.elem+"=$;"),this.key&&(n+="local."+this.key+"=$k;"),this.index&&(n+="local."+this.index+"=$i;"),n+'retval+="'}function L(){for(var n=this.params.length,r="",e=0;n>e;e++){var t=this.params[e];r+=","+t.eval.apply(t,arguments)}return'"+this.byId("'+this.id+'"'+r+')+"'}function T(){var n=[];for(var r in this.object){var e=this.object[r];n.push(r+":"+e.eval.apply(e,arguments))}return"{"+n.join(",")+"}"}function z(){for(var n=this.operands[0],r=n.eval.apply(n,arguments),e=this.operators.length,t=0;e>t;t++)n=this.operands[t+1],r+=this.operators[t]+n.eval.apply(n,arguments);return r}function G(){for(var n=[],r=this.args.length,e=0;r>e;e++){var t=this.args[e];n.push(t.eval.apply(t,arguments))}return"("+n.join(",")+")"}function H(n){return(n.match(/\n/g)||[]).length}function M(e){for(var t,l="",u=[],s=0;t=r(e);){if(t.eval===C)u.push(t.eval);else if(-1!==n.inArray(t.eval,X)){if(t.ifElse&&-1===n.inArray(u.pop(),X))throw new Error("Unexpected {else-if} on line "+(s+H(e.substr(0,t.start))));u.push(t.eval)}else if(t.eval===P){if(u.pop()!==C)throw new Error("Unexpected {/each} on line "+(s+H(e.substr(0,t.start))))}else if(t.eval===F&&-1===n.inArray(u.pop(),X))throw new Error("Unexpected {/if} on line "+(s+H(e.substr(0,t.start))));l+=R(e.substr(0,t.start))+t.eval(),s+=H(e.substr(0,t.end)),e=e.substr(t.end)}if(u.length>0)throw new Error("No closing tag for "+(u.pop()===C?"{each}":"{if}"));return l+=R(e),'var local=data,$=local,$d=attrData,$it,$t,$e,retval="'+l+'"; return retval'}function R(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}var V=[s(/^</,Q),s(/^>/,I),s(/^else/,D),s(/^\/(if|unless)/,F),s(/^\/each/,P),u,l,a,i,o,f],W=V.length,X=[K,_,q,B],Y=[],Z={},nr={},rr=function(r,e){var t;try{return r in Z==!1&&(t=M(r),Z[r]={func:new Function("data","attrData",t),code:t}),Z[r].func.call(rr,e)}catch(l){var u={template:r,code:Z[r].code,data:n.extend(!0,{},e),error:l.message};throw JSON&&JSON.stringify&&(u.data_json=JSON.stringify(e)),Y.push(u),l}};rr.byId=function(r,e){try{var t=n("#"+r);if(r in nr==!1){if(0===t.length)return!1;var l,u,s=t.html();s in Z?(l=Z.code,u=Z.func):(l=M(s),u=new Function("data","attrData",l)),Z[s]={func:u,code:l},nr[r]={func:u,code:l,template:s}}return nr[r].func.call(n.tera,e,t.data())}catch(a){var i={template:nr[r]&&nr[r].template,code:nr[r]&&nr[r].code,data:n.extend(!0,{},e),error:a.message};throw JSON&&JSON.stringify&&(i.data_json=JSON.stringify(e)),Y.push(i),a}},rr.json=JSON&&JSON.stringify||function(){throw new Error("JSON object is not provided")},rr.keys=Object.keys||function(){"use strict";var n=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=e.length;return function(l){if("object"!=typeof l&&("function"!=typeof l||null===l))throw new TypeError("Object.keys called on non-object");var u,s,a=[];for(u in l)n.call(l,u)&&a.push(u);if(r)for(s=0;t>s;s++)n.call(l,e[s])&&a.push(e[s]);return a}}(),rr.values=function(r){if(n.isArray(r))return r;for(var e=[],t=0,l=this.keys(r),u=l.length;u>t;t++)e.push(r[l[t]]);return e},rr.escape=function(n){return(""+n).replace(/[&<'"]/g,function(n){switch(n[0]){case"&":return"&amp;";case"<":return"&lt;";case"'":return"&#39;";case'"':return"&quot;"}})},rr.proto=Object.create||function(n){var r=function(){};return r.prototype=n,new r},rr.errors=function(){return Y},rr.cache=function(){return Z},rr.cacheById=function(){return nr},rr.lastError=function(){return Y[Y.length-1]},rr.clearCache=function(){Z={},nr={}},n.tera=rr,n(function(){n('script[type="text/template-tera"]').each(function(){var r,e,t,l;try{r=n(this).attr("id"),e=n(this).html(),t=M(e),l=new Function("data","attrData",t),Z[e]={func:l,code:t},nr[r]={func:l,code:t,template:e}}catch(u){throw Y.push({template:e,code:t,error:u.message}),u}})})}(jQuery);